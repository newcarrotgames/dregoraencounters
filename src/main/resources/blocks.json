{
  "version": "1.0",
  "defaults": {
    "encounterCooldownSeconds": 900,
    "maxActivePerChunk": 1,
    "maxActiveGlobal": 32
  },
  "blocks": {
    "selectors": {
      "forest_night_near_player": {
        "type": "selector",
        "biomes": ["minecraft:roofed_forest", "minecraft:forest", "minecraft:birch_forest"],
        "dimensions": [0],
        "weather": ["clear", "rain", "thunder"],
        "timeOfDay": { "from": 13000, "to": 23000 },
        "playerConstraints": {
          "minLevel": 1,
          "maxDistanceFromSpawn": 20000,
          "minOnlinePlayers": 1,
          "maxNearbyPlayers": 6,
          "requireNotRiding": true
        },
        "cooldowns": {
          "perPlayerSeconds": 1200,
          "perChunkSeconds": 900,
          "globalSeconds": 60
        },
        "weights": { "base": 10 }
      },
      "plains_day_near_player": {
        "type": "selector", 
        "biomes": ["minecraft:plains", "minecraft:sunflower_plains"],
        "dimensions": [0],
        "timeOfDay": { "from": 1000, "to": 12000 },
        "playerConstraints": {
          "minLevel": 1,
          "maxDistanceFromSpawn": 1000,
          "minOnlinePlayers": 1,
          "maxNearbyPlayers": 4,
          "requireNotRiding": true
        },
        "cooldowns": {
          "perPlayerSeconds": 600,
          "perChunkSeconds": 300,
          "globalSeconds": 30
        },
        "weights": { "base": 8 }
      },
      "default_random": {
        "type": "selector",
        "dimensions": [0],
        "playerConstraints": {
          "minLevel": 1,
          "maxDistanceFromSpawn": 50000,
          "minOnlinePlayers": 1,
          "requireNotRiding": false
        },
        "cooldowns": {
          "perPlayerSeconds": 900,
          "perChunkSeconds": 600,
          "globalSeconds": 60
        },
        "weights": { "base": 10 }
      }
    },
    "routes": {
      "short_walk": {
        "type": "route",
        "mode": "sequential",
        "arriveRadius": 2.0,
        "waypoints": [
          { "dx": 0, "dy": 0, "dz": 0, "yMode": "surface" },
          { "dx": 12, "dy": 0, "dz": 6, "yMode": "surface" },
          { "dx": 18, "dy": 0, "dz": -8, "yMode": "surface" }
        ]
      },
      "merchant_path": {
        "type": "route",
        "mode": "sequential",
        "arriveRadius": 3.0,
        "waypoints": [
          { "dx": 0, "dy": 0, "dz": 0, "yMode": "surface" },
          { "dx": 20, "dy": 0, "dz": 0, "yMode": "surface" },
          { "dx": 20, "dy": 0, "dz": 20, "yMode": "surface" }
        ]
      }
    },
    "spawns": {
      "villager_walker": {
        "type": "entity",
        "entityId": "minecraft:villager",
        "count": 1,
        "persistence": true,
        "equipment": { "mainhand": null, "offhand": null, "helmet": null, "chest": null, "legs": null, "boots": null },
        "nbt": { "Profession": 0 },
        "aiToggles": { "canPickUpLoot": false, "followRange": 24.0, "removeDefaultWander": false }
      },
      "wolf_pet": {
        "type": "entity",
        "entityId": "minecraft:wolf",
        "count": 1,
        "persistence": true,
        "nbt": { "Angry": 0 },
        "aiToggles": { "clearTargetTasks": true, "removeDefaultWander": true }
      },
      "merchant_villager": {
        "type": "entity",
        "entityId": "minecraft:villager",
        "count": 1,
        "persistence": true,
        "nbt": { "Profession": 2 },
        "equipment": { 
          "mainhand": { "item": "minecraft:emerald", "count": 1 },
          "chest": { "item": "minecraft:leather_chestplate", "count": 1 }
        },
        "aiToggles": { "canPickUpLoot": false, "followRange": 32.0, "removeDefaultWander": true }
      },
      "bandit_group": {
        "type": "group",
        "members": [
          { "ref": "skeleton_std", "count": { "min": 2, "max": 4 } },
          { "ref": "zombie_std", "count": { "min": 1, "max": 2 } }
        ],
        "spread": { "radius": 6 }
      },
      "skeleton_std": { 
        "type": "entity", 
        "entityId": "minecraft:skeleton", 
        "count": 1, 
        "persistence": false,
        "equipment": { "mainhand": { "item": "minecraft:bow", "count": 1 } }
      },
      "zombie_std": { 
        "type": "entity", 
        "entityId": "minecraft:zombie", 
        "count": 1, 
        "persistence": false 
      },
      "random_farm_animal": {
        "type": "randomChoice",
        "options": [
          { "weight": 20, "ref": "chicken_std" },
          { "weight": 15, "ref": "pig_std" },
          { "weight": 15, "ref": "cow_std" },
          { "weight": 15, "ref": "sheep_std" },
          { "weight": 10, "ref": "rabbit_std" },
          { "weight": 5, "ref": "bat_std" }
        ]
      },
      "chicken_std": { 
        "type": "entity", 
        "entityId": "minecraft:chicken", 
        "count": 1, 
        "persistence": true 
      },
      "pig_std": { 
        "type": "entity", 
        "entityId": "minecraft:pig", 
        "count": 1, 
        "persistence": true 
      },
      "cow_std": { 
        "type": "entity", 
        "entityId": "minecraft:cow", 
        "count": 1, 
        "persistence": true 
      },
      "sheep_std": { 
        "type": "entity", 
        "entityId": "minecraft:sheep", 
        "count": 1, 
        "persistence": true 
      },
      "rabbit_std": { 
        "type": "entity", 
        "entityId": "minecraft:rabbit", 
        "count": 1, 
        "persistence": true 
      },
      "bat_std": { 
        "type": "entity", 
        "entityId": "minecraft:bat", 
        "count": 1, 
        "persistence": true 
      },
      "friendly_skeleton_leader": {
        "type": "entity",
        "entityId": "minecraft:skeleton",
        "count": 1,
        "persistence": true,
        "customName": "\u00A7aSkeletal Guardian",
        "showNameTag": true,
        "equipment": { 
          "mainhand": { "item": "minecraft:bow", "count": 1, "enchantments": [{"id": "power", "level": 1}] },
          "offhand": { "item": "minecraft:stick", "count": 1 }
        },
        "attributes": {
          "health": { "multiply": 1.5 },
          "followRange": 20.0
        },
        "aiToggles": { 
          "clearTargetTasks": true,
          "canPickUpLoot": false,
          "removeDefaultWander": true
        }
      },
      "friendly_skeleton_follower": {
        "type": "entity",
        "entityId": "minecraft:skeleton",
        "count": 1,
        "persistence": true,
        "customName": "\u00A7aFriendly Skeleton",
        "showNameTag": true,
        "equipment": { 
          "mainhand": { "item": "minecraft:bow", "count": 1 },
          "offhand": { "item": "minecraft:arrow", "count": 16 }
        },
        "attributes": {
          "health": { "multiply": 1.2 }
        },
        "aiToggles": { 
          "clearTargetTasks": true,
          "canPickUpLoot": false
        }
      },
      "random_hostile": {
        "type": "randomChoice",
        "options": [
          { "ref": "skeleton_std", "weight": 3 },
          { "ref": "zombie_std", "weight": 3 },
          { "ref": "spider_std", "weight": 2 },
          { "ref": "creeper_std", "weight": 1 }
        ]
      },
      "spider_std": {
        "type": "entity",
        "entityId": "minecraft:spider",
        "count": 1,
        "persistence": false
      },
      "creeper_std": {
        "type": "entity", 
        "entityId": "minecraft:creeper",
        "count": 1,
        "persistence": false
      }
    },
    "behaviors": {
      "move_route_1_0": {
        "type": "moveToRoute",
        "routeRef": "short_walk",
        "speed": 1.05,
        "timeoutSeconds": 120
      },
      "move_merchant_route": {
        "type": "moveToRoute", 
        "routeRef": "merchant_path",
        "speed": 0.8,
        "timeoutSeconds": 180
      },
      "pet_leashed_follow": {
        "type": "leashFollow",
        "holder": "leader",
        "snapDistance": 10.0,
        "calm": true
      },
      "guard_mode": {
        "type": "guard",
        "radius": 8,
        "targets": ["hostile"],
        "speed": 1.1
      },
      "friendly_guardian_ai": {
        "type": "friendlyGuardian",
        "targets": ["hostile", "!skeleton", "!player"],
        "radius": 12,
        "speed": 1.0,
        "retaliate": true,
        "healthBoost": 1.5
      }
    },
    "actions": {
      "announce_walk": {
        "type": "broadcast",
        "scope": "nearbyPlayers",
        "radius": 32,
        "message": "\u00A7aYou see someone out walking their dog."
      },
      "announce_merchant": {
        "type": "broadcast",
        "scope": "nearbyPlayers", 
        "radius": 32,
        "message": "\u00A7eA traveling merchant appears for a brief time!"
      },
      "tie_pet_to_leader": {
        "type": "leash",
        "from": "pet",
        "to": "leader"
      },
      "drop_reward_small": {
        "type": "giveLoot",
        "to": "nearestPlayer",
        "loot": [
          { "item": "minecraft:bone", "min": 1, "max": 3, "weight": 4 },
          { "item": "minecraft:emerald", "min": 1, "max": 1, "weight": 1 }
        ]
      },
      "spawn_bandit_wave": {
        "type": "spawn",
        "spawnRef": "bandit_group",
        "anchor": "leader",
        "offset": { "x": 0, "y": 0, "z": 6 }
      },
      "place_fence_and_knot": {
        "type": "placeLeashPost",
        "anchor": "leader",
        "offset": { "x": 1, "y": 0, "z": 0 }
      },
      "dog_walker_speech": {
        "type": "sayAboveHead",
        "target": "leader",
        "message": "\u00A77Don't mind meâ€”just walking my dog.",
        "durationSeconds": 8
      },
      "merchant_greeting": {
        "type": "sayAboveHead",
        "target": "merchant", 
        "message": "\u00A7eFresh goods for sale! Come quickly!",
        "durationSeconds": 10
      },
      "merchant_trades": {
        "type": "openTrades",
        "label": "merchant",
        "durationSeconds": 60,
        "trades": [
          { "cost": { "item": "minecraft:emerald", "count": 3 }, "offer": { "item": "minecraft:golden_apple", "count": 1 } },
          { "cost": { "item": "minecraft:iron_ingot", "count": 1 }, "offer": { "item": "minecraft:bread", "count": 6 } },
          { "cost": { "item": "minecraft:gold_ingot", "count": 2 }, "offer": { "item": "minecraft:diamond", "count": 1 } }
        ]
      }
    }
  }
}
